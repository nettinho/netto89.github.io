<html>
  <head>
    <title>Clash of Code helper</title>
    <style>
      body { background-color: #333; color: white; }
      pre { 
        margin: 20px; padding: 20px; 
        color: #aaa; background-color: #222;
        white-space: pre; text-shadow: 0 1px 0 #000;
        border-radius: 15px; border-bottom: 1px solid #555;
        box-shadow: 0 1px 5px rgba(0,0,0,0.4) inset, 0 0 20px rgba(0,0,0,0.2) inset;
        font: 16px/24px 'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace;
      }
      button {
        margin-right: 10px;
        background: #fbfbfb;
        color: black;
        font-size: 20px;
        font-weight: bolder;
        border: 1px solid white;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <h1>Javascript Clash of Code helper functions</h1>

    <hr/>
    <h2><button onclick="copy('prime')">COPY</button>Prime</h2>
    <pre><code id='prime'>prime = (x) => {for (i = 2; i < x; i++) if (x % i == 0) return false; return x > 1}</code></pre>
    <hr/>
    <h2><button onclick="copy('gcd')">COPY</button>Greatest common divison</h2>
    <pre><code id='gcd'>gcd = (a, b) => (!b ? a : gcd(b, a % b))</code></pre>
    <hr/>
    <h2><button onclick="copy('fact')">COPY</button>Factorial</h2>
    <pre><code id='fact'>fact = (x) => (x > 1 ? x * fact(x - 1) : 1)</code></pre>
    <hr/>
    <h2><button onclick="copy('count')">COPY</button>Count ocurrence of characters</h2>
    <pre><code id='count'>count = arr => arr.reduce((a,c)=>a[c]=(a[c]||0)+1,{})</code></pre>
    <hr/>
    <h2><button onclick="copy('sum')">COPY</button>Reduce sum array</h2>
    <pre><code id='sum'>sum = arr => arr.reduce((a,x)=>a+=+x,0)</code></pre>
    <hr/>
    <h2><button onclick="copy('primeFactors')">COPY</button>Prime factors of a number</h2>
    <pre><code id='primeFactors'>const primeFactors = n => {f=[];d=2; while(n>=2)if(n%d)d++;else{f.push(d); n/=d}return f}</code></pre>

    <script>
      function copy(id) {
        var text = document.getElementById(id).innerHTML
          .replace(/&amp;/g, '&')
          .replace(/&lt;/g, '<')
          .replace(/&gt;/g, '>')
          .replace(/&quot;/g, '"');
        console.log(text)
        const el = document.createElement('textarea');
        el.value = text;
        el.setAttribute('readonly', '');
        el.style.position = 'absolute';
        el.style.left = '-9999px';
        document.body.appendChild(el);
        el.select();
        document.execCommand('copy');
        document.body.removeChild(el);
      }
    </script>
  </body>
</html>